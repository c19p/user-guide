<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Motivation - The C19 Protocol / User Guide</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="title-page.html">The C19 Protocol</a></li><li class="chapter-item expanded affix "><a href="intro.html">Introduction</a></li><li class="chapter-item expanded affix "><a href="motivation.html" class="active">Motivation</a></li><li class="chapter-item expanded "><a href="use-cases.html"><strong aria-hidden="true">1.</strong> Use cases</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="use-case-sharing-state.html"><strong aria-hidden="true">1.1.</strong> Sharing state</a></li><li class="chapter-item expanded "><a href="use-case-media-server.html"><strong aria-hidden="true">1.2.</strong> Media Service / Pulling from Origin</a></li><li class="chapter-item expanded "><a href="use-case-user-subscription.html"><strong aria-hidden="true">1.3.</strong> User Subscription Data</a></li><li class="chapter-item expanded "><a href="use-case-standalone-cache.html"><strong aria-hidden="true">1.4.</strong> Standalone Distributed Cache</a></li></ol></li><li class="chapter-item expanded "><a href="ch01-00-getting-started.html"><strong aria-hidden="true">2.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="dockerhub.html"><strong aria-hidden="true">2.1.</strong> Dockerhub</a></li><li class="chapter-item expanded "><a href="getting-started-configuration.html"><strong aria-hidden="true">2.2.</strong> Configuring the Agent</a></li><li class="chapter-item expanded "><a href="getting-started-deploying-to-kubernetes.html"><strong aria-hidden="true">2.3.</strong> Deploying to Kubernetes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="getting-started-tldr.html"><strong aria-hidden="true">2.3.1.</strong> TL;DR</a></li><li class="chapter-item expanded "><a href="getting-started-step-by-step.html"><strong aria-hidden="true">2.3.2.</strong> Step-by-Step</a></li></ol></li><li class="chapter-item expanded "><a href="getting-started-test-deployment.html"><strong aria-hidden="true">2.4.</strong> Testing the Deployment</a></li><li class="chapter-item expanded "><a href="getting-started-helm-deployment.html"><strong aria-hidden="true">2.5.</strong> Standalone Deployment Using Helm Chart</a></li><li class="chapter-item expanded "><a href="getting-started-non-kubernetes-deployment.html"><strong aria-hidden="true">2.6.</strong> Non-Kubernetes Deployment</a></li><li class="chapter-item expanded "><a href="setting-and-getting-values.html"><strong aria-hidden="true">2.7.</strong> Setting and Getting Values</a></li></ol></li><li class="chapter-item expanded "><a href="deployment-strategies.html"><strong aria-hidden="true">3.</strong> Deployment Strategies</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="deployment-strategy-classic.html"><strong aria-hidden="true">3.1.</strong> Alongside a Service</a></li><li class="chapter-item expanded "><a href="deployment-strategy-standalone.html"><strong aria-hidden="true">3.2.</strong> As a Standalone Cluster</a></li><li class="chapter-item expanded "><a href="deployment-strategy-daemonset.html"><strong aria-hidden="true">3.3.</strong> As a Daemonset</a></li><li class="chapter-item expanded "><a href="deployment-strategy-hybrid.html"><strong aria-hidden="true">3.4.</strong> A Hybrid Deployment</a></li></ol></li><li class="chapter-item expanded "><a href="architecture.html"><strong aria-hidden="true">4.</strong> Architecture</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="the-state-layer.html"><strong aria-hidden="true">4.1.</strong> The State Layer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="the-default-state.html"><strong aria-hidden="true">4.1.1.</strong> The Default State</a></li><li class="chapter-item expanded "><a href="data-seeders.html"><strong aria-hidden="true">4.1.2.</strong> Data Seeders</a></li></ol></li><li class="chapter-item expanded "><a href="the-agent-layer.html"><strong aria-hidden="true">4.2.</strong> The Agent Layer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="the-default-agent.html"><strong aria-hidden="true">4.2.1.</strong> The Default Agent</a></li></ol></li><li class="chapter-item expanded "><a href="the-connection-layer.html"><strong aria-hidden="true">4.3.</strong> The Connection Layer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="the-default-connection.html"><strong aria-hidden="true">4.3.1.</strong> The Default Connection</a></li><li class="chapter-item expanded "><a href="peer-providers.html"><strong aria-hidden="true">4.3.2.</strong> Peer Providers</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="configuration.html"><strong aria-hidden="true">5.</strong> Configuration</a></li><li class="chapter-item expanded "><a href="seeding-data.html"><strong aria-hidden="true">6.</strong> Seeding Data</a></li><li class="chapter-item expanded "><a href="appendix-i.html"><strong aria-hidden="true">7.</strong> Appendix I</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="appendix-i-states.html"><strong aria-hidden="true">7.1.</strong> Available States</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="appendix-i-default-state.html"><strong aria-hidden="true">7.1.1.</strong> The Default State</a></li></ol></li><li class="chapter-item expanded "><a href="appendix-i-agents.html"><strong aria-hidden="true">7.2.</strong> Available Agents</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="appendix-i-default-agent.html"><strong aria-hidden="true">7.2.1.</strong> The Default Agent</a></li></ol></li><li class="chapter-item expanded "><a href="appendix-i-connections.html"><strong aria-hidden="true">7.3.</strong> Available Connections</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="appendix-i-default-connection.html"><strong aria-hidden="true">7.3.1.</strong> The Default Connection</a></li></ol></li><li class="chapter-item expanded "><a href="appendix-i-peer-providers.html"><strong aria-hidden="true">7.4.</strong> Available Peer Providers</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="appendix-i-static-peer-provider.html"><strong aria-hidden="true">7.4.1.</strong> Static Peer Provider</a></li><li class="chapter-item expanded "><a href="appendix-i-k8s-peer-provider.html"><strong aria-hidden="true">7.4.2.</strong> K8s</a></li></ol></li><li class="chapter-item expanded "><a href="appendix-i-data-seeders.html"><strong aria-hidden="true">7.5.</strong> Available Data Seeders</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="appendix-i-file-data-seeder.html"><strong aria-hidden="true">7.5.1.</strong> File Data Seeder</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="roadmap.html"><strong aria-hidden="true">8.</strong> Roadmap</a></li><li class="chapter-item expanded "><a href="license.html"><strong aria-hidden="true">9.</strong> License</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">The C19 Protocol / User Guide</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#motivation" id="motivation">Motivation</a></h1>
<p>Running microservices architecture has many benefits, but as you might already found out, it brings a lot of pain you must address. Services don't operate in an isolate world,
services depend on each other to complete an operation. You have to answer questions like: what if one service becomes unavailable or loaded? What should be the strategy for the
dependent service? Should it retry? Should it return an error or maybe fallback to a different result?</p>
<p>You then find yourself employing caching, auto scaling, retry logic, rate limiters and load balancing. Maybe you deploy Istio or Linkerd to deal with many of the issues.
While these are great solutions, they solve for the general case and don't care about the data. But the data across your system is not equal. Some data can be stale, some of it 
must be available in real time. Is it worth-while loading your system for data that doesn't change much often? In fact, if you look closely at your data across your system,
you might find out that some of it, if not most of it, can be consumed in a stale manner.</p>
<p>C19 doesn't come to replace the great solutions mentioned above, but it offers a different solution that would ease up the load on your system, would increase its availability,
and would do so in a simplified way. </p>
<h2><a class="header" href="#failure-rate" id="failure-rate">Failure Rate</a></h2>
<p><img src="figure-1-service-sla.png" alt="Service SLA" title="Service SLA" /></p>
<h5><a class="header" href="#figure-10---service-sla" id="figure-10---service-sla">Figure 1.0 - Service SLA</a></h5>
<p>You may feel content that you have 99% service SLA. But looking at a typical topology like depicted in figure 1.0 above, you
can see that there are usually more services involved in a single client request. If you count down the SLA for each one of the services, 
you can quickly see that the total service SLA drops down to 97%.</p>
<p>If you could bring the data to be available locally for any of the services above, you can immediately bring up your SLA.</p>
<h2><a class="header" href="#load" id="load">Load</a></h2>
<p>While most services can be horizontally scaled, some cannot. If you load the DB with a slow running query, you will immediately bring down the whole chain 
of services. If you handle your rate limits and circuit breakers well then you will end up with a degraded service at the best case scenario.</p>
<p>Even for other services that can be horizontally scaled, it doesn't come for free. You pay for resources.</p>
<h2><a class="header" href="#single-point-of-failure" id="single-point-of-failure">Single Point of Failure</a></h2>
<p>When talking about data, there is usually a single source of truth. Probably a database. Even if you scale your API services up to support the 
load on your system, you still have to get the data from your source of truth - the DB.</p>
<h2><a class="header" href="#all-data-is-not-equal" id="all-data-is-not-equal">All data is NOT equal</a></h2>
<p>Your data is not one thing. Your data differs in different ways across your system. Some of your data must be available in real-time while other data can 
be consumed while slightly stale. If this is the case, then why loading your system with redundant requests when the data can be available locally.</p>
<h2><a class="header" href="#one-solution-to-rule-them-all" id="one-solution-to-rule-them-all">One Solution to Rule Them All!</a></h2>
<p>Of course all of the above can be solved in different ways: load balancers, auto scaling, circuit breakers, DB replication, caching, etc...
Each solution would require its own dedicated system.</p>
<p>C19 offers one, generic way, of solving many issues altogether. In the cases described above, a c19 group can share the state across the system while decoupled 
from the load of the system.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="intro.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="use-cases.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="intro.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="use-cases.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
